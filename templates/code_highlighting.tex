\documentclass[10pt]{article}

\usepackage[width=\textwidth, labelfont=bf]{caption}
\usepackage{color}

\usepackage{minted}
\usemintedstyle{vs}

\definecolor{codebg}{rgb}{0.98,0.98,0.98}
\newminted{python}{bgcolor=codebg,
                    linenos=true,
                    frame=lines,
                    numbersep=5pt,
                    mathescape,
                    framesep=2mm,
                    fontsize=\footnotesize}


\begin{document}

% https://de.sharelatex.com/learn/Code_Highlighting_with_minted

\begin{listing}[H]
\begin{pythoncode}
import simpy

def example(env):
    yield env.timeout(10)
    print("now=%d" % env.now)
    yield env.timeout(10)
    print("now=%d" % env.now)

env = simpy.Environment()
p = env.process(example(env))
env.run()

# Output:
# > now=10
# > now=20
\end{pythoncode}
\caption{Example of a listing.}
\label{lst:simpy_example}
\end{listing}

Listing~\ref{lst:simpy_example} shows some code.

\end{document}
